<template>
<ve-container>
  <ve-page-header
    breadcrumb
    title="åˆ†å¸ƒè¡¨å•"
    sub-title="ä¿å­˜è¡¨å•å¹¶ä¸æ˜¯æäº¤"
    extra="å“ˆå“ˆå“ˆğŸ˜€"
    back
    tab-extra="å¼å¼ğŸ˜€"
    @tab-change="onTabChange"
    @extra-click="onTabChange"
    @tab-extra-click="onTabChange"
    :tabList="[{ label: 'èœå•ä¸€', name: '2', slot: 'menu' }, { label: 'èœå•äºŒ', name: '5', render: renderLabel, active: true }, { label: 'èœå•ä¸‰', name: '8' }]">
    <p>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>
    <p>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>
    <p>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>
    <template #menu="item">{{item.label}}ğŸ˜€</template>
  </ve-page-header>
  <div style="padding: 16px; background: #fff" id="demo">
    <VeQueryForm :model="form">
      <VeFormItem prop="name" label="1æ´»åŠ¨åç§°">
        <el-input v-model="form.name"></el-input>
      </VeFormItem>
      <VeFormItem prop="name" label="2æ´»åŠ¨åç§°">
        <el-input v-model="form.name"></el-input>
      </VeFormItem>
      <VeFormItem prop="name" label="3æ´»åŠ¨åç§°">
        <el-input v-model="form.name"></el-input>
      </VeFormItem>
      <VeFormItem prop="name" label="4æ´»åŠ¨åç§°">
        <el-input v-model="form.name"></el-input>
      </VeFormItem>
      <VeFormItem prop="name" label="5æ´»åŠ¨åç§°">
        <el-input v-model="form.name"></el-input>
      </VeFormItem>
    </VeQueryForm>

    <el-divider />
    <el-button type="primary" @click="submitForm('ruleForm')">ç«‹å³åˆ›å»º</el-button>
    <el-button @click="resetForm('ruleForm')">é‡ç½®</el-button>
    <el-button @click="resetFormItem">é‡ç½® Item1</el-button>

    <el-divider />

    <VeForm :model="ruleForm2" :rules="rules" label-width="100px" ref="ruleForm2" size="mini">

      <VeFormGroup type="grid" :gutter="24" title="æµ‹è¯•è¡¨å•" extra="å“ˆå“ˆå“ˆ">
        <ve-form-item prop="name" label="å“Ÿå“Ÿå“Ÿ">
          <el-input v-model="ruleForm2.name"></el-input>
        </ve-form-item>
        <ve-form-item prop="name" label="æ´»åŠ¨åç§°">
          <el-input v-model="ruleForm2.name"></el-input>
          <template slot="label">
            <ve-text icon="el-icon-platform-eleme">å•¦å•¦</ve-text>
          </template>
        </ve-form-item>
        <ve-form-item prop="name" label="æ´»åŠ¨åç§° 3" :span="2">
          <el-input v-model="ruleForm2.name"></el-input>
        </ve-form-item>
        <ve-form-item prop="name" label="æ´»åŠ¨åç§°">
          <el-input v-model="ruleForm2.name"></el-input>
        </ve-form-item>
      </VeFormGroup>

      <el-divider />

      <VeFormGroup type="cell" title="æµ‹è¯•è¡¨å•" extra="å“ˆå“ˆå“ˆ" size="medium">
        <ve-form-item prop="region" label="æµ‹è¯•åç§° 01" labelWidth="100px">
          <el-input v-model="ruleForm2.region" placeholder="è¯·è¾“å…¥åç§°"></el-input>
          <template slot="label">
            <ve-text icon="el-icon-platform-eleme">æµ‹è¯•å</ve-text>
          </template>
          <template slot="error">
            <ve-text icon="el-icon-platform-eleme">é”™å•¦å•¦å•¦</ve-text>
          </template>
        </ve-form-item>

        <ve-form-item prop="desc" label="æ´»åŠ¨åç§° 02" :span="2">
          <VeFlex>
          <el-input v-model="ruleForm2.desc" placeholder="è¯·è¾“å…¥"></el-input>
          <el-input v-model="ruleForm2.desc" placeholder="è¯·è¾“å…¥"></el-input>
          </VeFlex>
        </ve-form-item>

        <ve-form-item label="æ´»åŠ¨åŒºåŸŸ" prop="region">
          <el-select v-model="ruleForm2.region" placeholder="è¯·é€‰æ‹©æ´»åŠ¨åŒºåŸŸ" class="w-10/10">
            <el-option label="åŒºåŸŸä¸€" value="shanghai"></el-option>
            <el-option label="åŒºåŸŸäºŒ" value="beijing"></el-option>
          </el-select>
        </ve-form-item>

        <ve-form-item prop="name" label="ç”¨æˆ·å 3">
          <el-input v-model="ruleForm2.name" placeholder="è¯·è¾“å…¥"></el-input>
        </ve-form-item>

        <ve-form-item prop="name" label="ç”¨æˆ·å 4">
          <el-input v-model="ruleForm2.name" placeholder="è¯·è¾“å…¥"></el-input>
        </ve-form-item>

      </VeFormGroup>

      <el-divider />

      <el-button type="primary" @click="submitForm('ruleForm2')">ç«‹å³åˆ›å»º</el-button>
      <el-button @click="resetForm('ruleForm2')">é‡ç½®</el-button>
    </VeForm>

  </div>
</ve-container>
</template>

<script>
/* eslint-disable */
// import Descriptions from '@/components/Form/Descriptions.vue'
import { FormItem } from '@/components/Form'
import { GridForm, GridFormItem } from '@/components/GridForm/'

export default {
  name: 'basic-form',
  components: {
    FormItem,
    GridForm,
    GridFormItem
    // Descriptions
  },
  directives: {
    demo: {
      bind(el, binding, vnode) {
        // console.log('el : ', el)
        // console.log('vnode : ', vnode)
        const { name, value, arg, modifiers } = binding
        // console.log('binding : ', binding)
        // console.log('modifiers :', modifiers)
      }
    }
  },
  props: {
    disabled: Boolean
  },
  data() {
    return {
      form: {
        name: ''
      },
      resizeObserver: null,
      currentElement: null,
      size: {
        width: 0,
        height: 0,
        offsetWidth: 0,
        offsetHeight: 0
      },
      ruleForm: {
        name: '',
        region: '',
        date1: '',
        date2: '',
        delivery: false,
        type: [],
        resource: '',
        desc: ''
      },
      ruleForm2: {
        name: '',
        region: '',
        date1: '',
        date2: '',
        delivery: false,
        type: [],
        resource: '',
        desc: '',
        list: [
          {
            name: '',
            age: '',
            gender: ''
          }
        ]
      },
      rules: {
        name: [
          { required: true, message: 'è¯·è¾“å…¥æ´»åŠ¨åç§°', trigger: 'blur' },
          { min: 3, max: 5, message: 'é•¿åº¦åœ¨ 3 åˆ° 5 ä¸ªå­—ç¬¦', trigger: 'blur' }
        ],
        region: [
          { required: true, message: 'è¯·é€‰æ‹©æ´»åŠ¨åŒºåŸŸ', trigger: 'change' }
        ],
        date1: [
          { type: 'date', required: true, message: 'è¯·é€‰æ‹©æ—¥æœŸ', trigger: 'change' }
        ],
        date2: [
          { type: 'date', required: true, message: 'è¯·é€‰æ‹©æ—¶é—´', trigger: 'change' }
        ],
        type: [
          { type: 'array', required: true, message: 'è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ´»åŠ¨æ€§è´¨', trigger: 'change' }
        ],
        resource: [
          { required: true, message: 'è¯·é€‰æ‹©æ´»åŠ¨èµ„æº', trigger: 'change' }
        ],
        desc: [
          { required: true, message: 'è¯·å¡«å†™æ´»åŠ¨å½¢å¼', trigger: 'blur' },
          { min: 3, max: 5, message: 'é•¿åº¦åœ¨ 3 åˆ° 5 ä¸ªå­—ç¬¦', trigger: 'blur' }
        ]
      }
    }
  },
  mounted() {
    setTimeout(() => {
      // this.index = null
    }, 5000);
  },
  methods: {
    submitForm(formName) {
      this.$refs[formName].validate((valid) => {
        if (valid) {
          alert('submit!')
        } else {
          console.log('error submit!!')
          return false;
        }
      });
    },
    resetForm(formName) {
      this.$refs[formName].resetFields()
    },
    resetFormItem() {
      this.$refs.item1.resetField()
    },
    handleResize(val, el) {
      console.log('resize : ', val, el)
    },
    handleResize2(val, el) {
      console.log('v-resize : ', val)
    },
    onViewPlay() {
      this.$refs['view'].open(5)
    },
    handleOpen(index, num) {
      // this.showView = true
      if (num === 2) {
        this.index2 = index
      } else {
        this.index = index
      }
      
      // this.$refs['view'].open(index)
    },
    renderLabel(h, item) {
      return (<span>{item.label} âš ï¸</span>)
    },
    onOpen(a) {
      console.log('event open', a)
    },
    onClose(a) {
      console.log('event close', a)
      this.index = a
      // this.showView = false
    },
    onTabChange(tab) {
      console.log('tab change ', tab)
    }
  }
}
</script>

<style lang="scss">
.form-border{
  //
}
</style>
